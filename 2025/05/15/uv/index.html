<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>uv | daxiong's blog</title><meta name="author" content="daxiong"><meta name="copyright" content="daxiong"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="uv：下一代 Python 包和项目管理利器在 Python 的世界里，包管理和虚拟环境是每个开发者都绕不开的话题。我们熟悉 pip 用于安装包，virtualenv 或 venv 用于创建隔离的环境，而 conda 则在数据科学领域广受欢迎，提供了更全面的环境和包管理功能。然而，一个名为 uv 的新兴工具正以其惊人的速度和现代化的特性，试图为 Python 开发者带来全新的体验。 这篇博文将带你">
<meta property="og:type" content="article">
<meta property="og:title" content="uv">
<meta property="og:url" content="https://88daxiong.github.io/2025/05/15/uv/index.html">
<meta property="og:site_name" content="daxiong&#39;s blog">
<meta property="og:description" content="uv：下一代 Python 包和项目管理利器在 Python 的世界里，包管理和虚拟环境是每个开发者都绕不开的话题。我们熟悉 pip 用于安装包，virtualenv 或 venv 用于创建隔离的环境，而 conda 则在数据科学领域广受欢迎，提供了更全面的环境和包管理功能。然而，一个名为 uv 的新兴工具正以其惊人的速度和现代化的特性，试图为 Python 开发者带来全新的体验。 这篇博文将带你">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://88daxiong.github.io/image/bald_eagle.jpeg">
<meta property="article:published_time" content="2025-05-15T07:20:12.000Z">
<meta property="article:modified_time" content="2025-05-15T07:22:19.709Z">
<meta property="article:author" content="daxiong">
<meta property="article:tag" content="uv">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://88daxiong.github.io/image/bald_eagle.jpeg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://88daxiong.github.io/2025/05/15/uv/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'uv',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2025-05-15 15:22:19'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><script src="https://npm.elemecdn.com/echarts@4.9.0/dist/echarts.min.js"></script><script src="https://npm.elemecdn.com/echarts@4.9.0/map/js/china.js"></script><meta name="generator" content="Hexo 7.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/image/bald_eagle.jpeg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">6</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">11</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">3</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><span id="blog-info"><a href="/" title="daxiong's blog"><span class="site-name">daxiong's blog</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">uv</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-05-15T07:20:12.000Z" title="发表于 2025-05-15 15:20:12">2025-05-15</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-05-15T07:22:19.709Z" title="更新于 2025-05-15 15:22:19">2025-05-15</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">2.6k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>8分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="uv"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="uv：下一代-Python-包和项目管理利器"><a href="#uv：下一代-Python-包和项目管理利器" class="headerlink" title="uv：下一代 Python 包和项目管理利器"></a>uv：下一代 Python 包和项目管理利器</h1><p>在 Python 的世界里，包管理和虚拟环境是每个开发者都绕不开的话题。我们熟悉 <code>pip</code> 用于安装包，<code>virtualenv</code> 或 <code>venv</code> 用于创建隔离的环境，而 <code>conda</code> 则在数据科学领域广受欢迎，提供了更全面的环境和包管理功能。然而，一个名为 <code>uv</code> 的新兴工具正以其惊人的速度和现代化的特性，试图为 Python 开发者带来全新的体验。</p>
<p>这篇博文将带你全面了解 <code>uv</code>，包括它的核心特点、与 <code>conda</code> 和 <code>pip</code> 的主要区别，以及如何快速上手使用。</p>
<h2 id="什么是-uv？"><a href="#什么是-uv？" class="headerlink" title="什么是 uv？"></a>什么是 uv？</h2><p><code>uv</code> 是一个用 Rust 编写的极其快速的 Python 包安装器和解析器，由 Astral 团队（Ruff 的开发者）推出。 它的目标是成为 <code>pip</code>、<code>pip-tools</code> 和 <code>virtualenv</code> 等传统工具的直接替代品，并致力于提供一个统一、高效的 Python 开发体验。 <code>uv</code> 不仅仅是一个包安装器，它还集成了项目管理和虚拟环境管理的功能，力求成为像 Rust 中的 Cargo 或 Node.js 中的 npm&#x2F;yarn 那样的“一站式”解决方案。</p>
<h2 id="uv-的核心特点"><a href="#uv-的核心特点" class="headerlink" title="uv 的核心特点"></a>uv 的核心特点</h2><p><code>uv</code> 之所以备受关注，主要归功于其以下几个显著特点：</p>
<ul>
<li><strong>极致的速度</strong>：这是 <code>uv</code> 最引人注目的特性。得益于 Rust 的高性能以及并行下载、高效的依赖解析算法和全局模块缓存等技术，<code>uv</code> 在安装和解析包方面的速度比 <code>pip</code> 快 10-100 倍。 即使在无缓存的情况下，速度提升也通常在 8-10 倍。 创建虚拟环境的速度也比 Python 自带的 <code>venv</code> 快约 80 倍。 这意味着开发者可以大幅缩短等待依赖安装的时间，从而提高开发效率。</li>
<li><strong>统一的包管理与环境管理</strong>：<code>uv</code> 将虚拟环境管理和包安装无缝集成。 当你在项目目录下首次使用 <code>uv</code> 时，它会自动创建标准的虚拟环境（如 <code>.venv</code>），无需手动执行 <code>virtualenv</code> 或 <code>venv</code> 命令。 这种一体化的体验简化了开发流程。</li>
<li><strong>高度兼容现有生态</strong>：<code>uv</code> 被设计为“即插即用”的替代方案。 它可以直接使用现有的 <code>requirements.txt</code> 文件和 PyPI 索引，无需对现有项目结构进行大的改动。 大部分 <code>pip</code> 命令只需在前面加上 <code>uv</code> 即可按预期工作，例如 <code>uv pip install -r requirements.txt</code>。</li>
<li><strong>全面的依赖管理功能</strong>：<code>uv</code> 支持现代 Python 包管理的各种高级功能，包括可编辑安装 (<code>pip install -e</code>)、从 Git 地址或 URL 安装、使用本地目录作为依赖、约束文件、私有源索引等。 它还引入了锁定文件（如 <code>uv.lock</code>）来精确记录依赖版本，确保跨环境的可重复性。 这个锁文件是跨平台的，保证了不同操作系统上依赖的一致性。</li>
<li><strong>节省磁盘空间</strong>：通过全局缓存机制，<code>uv</code> 可以复用已下载的依赖项，避免重复下载，从而节省磁盘空间。</li>
<li><strong>清晰的错误信息</strong>：<code>uv</code> 在遇到依赖冲突时，能提供比 <code>pip</code> 更直观的错误信息和解决建议，帮助开发者更快定位和解决问题。</li>
<li><strong>Python 版本管理 (实验性)</strong>: <code>uv</code> 正在逐步集成 Python 版本的管理功能，未来有望像 <code>pyenv</code> 一样管理和切换不同的 Python 解释器版本。 甚至可以在没有预装目标 Python 的情况下自动下载所需版本。</li>
<li><strong>静态二进制文件</strong>：<code>uv</code> 是一个单一的静态二进制文件，安装简单，无需预装 Rust 或特定的 Python 版本。</li>
</ul>
<h2 id="uv、conda-与-pip-的区别"><a href="#uv、conda-与-pip-的区别" class="headerlink" title="uv、conda 与 pip 的区别"></a>uv、conda 与 pip 的区别</h2><p>为了更好地理解 <code>uv</code> 的定位，我们将其与广为人知的 <code>pip</code> 和 <code>conda</code> 进行比较：</p>
<table>
<thead>
<tr>
<th align="left">特性</th>
<th align="left">uv</th>
<th align="left">pip</th>
<th align="left">conda</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><strong>核心功能</strong></td>
<td align="left">包安装、依赖解析、虚拟环境管理、项目管理 (目标是“一站式”)</td>
<td align="left">包安装、依赖解析</td>
<td align="left">包管理 (Python 及非 Python 包)、环境管理 (跨语言)、依赖解析</td>
</tr>
<tr>
<td align="left"><strong>性能</strong></td>
<td align="left">极快 (Rust 实现，并行处理，高效缓存)</td>
<td align="left">相对较慢 (Python 实现)</td>
<td align="left">通常比 pip 和 uv 慢，尤其在依赖解析和环境创建时</td>
</tr>
<tr>
<td align="left"><strong>虚拟环境</strong></td>
<td align="left">内置并自动管理，遵循标准 (.venv)</td>
<td align="left">需配合 <code>virtualenv</code> 或 <code>venv</code> 使用</td>
<td align="left">内置强大的环境管理功能，可以创建包含不同 Python 版本和库的独立环境</td>
</tr>
<tr>
<td align="left"><strong>依赖解析</strong></td>
<td align="left">高效，提供清晰的冲突信息和跨平台锁文件 (<code>uv.lock</code>)</td>
<td align="left">基础的依赖解析，有时冲突信息不够明确</td>
<td align="left">强大的依赖解析能力，能处理复杂的包依赖关系，但有时速度较慢</td>
</tr>
<tr>
<td align="left"><strong>包来源</strong></td>
<td align="left">主要依赖 PyPI，兼容 <code>requirements.txt</code></td>
<td align="left">主要依赖 PyPI</td>
<td align="left">依赖 Anaconda 仓库、conda-forge 等，也支持从 PyPI 安装 (但可能引起冲突)</td>
</tr>
<tr>
<td align="left"><strong>跨语言支持</strong></td>
<td align="left">专注于 Python 包管理</td>
<td align="left">仅限 Python 包</td>
<td align="left">支持 Python、R、C&#x2F;C++ 等多种语言的包和库</td>
</tr>
<tr>
<td align="left"><strong>生态系统</strong></td>
<td align="left">基于 Python&#x2F;PyPI 生态，兼容现有工具</td>
<td align="left">Python 标准包管理工具</td>
<td align="left">拥有独立的包生态系统，对数据科学领域友好，但有时与标准 Python 工具链分离</td>
</tr>
<tr>
<td align="left"><strong>文件格式</strong></td>
<td align="left">使用 <code>pyproject.toml</code> (PEP 621) 和 <code>uv.lock</code></td>
<td align="left">主要使用 <code>requirements.txt</code></td>
<td align="left">使用 <code>environment.yml</code> 描述环境</td>
</tr>
<tr>
<td align="left"><strong>易用性</strong></td>
<td align="left">命令简洁，学习曲线较低，旨在简化工作流</td>
<td align="left">命令直接，但功能分散在不同工具中</td>
<td align="left">功能强大但命令相对复杂，配置灵活</td>
</tr>
</tbody></table>
<p><strong>总结来说</strong>：</p>
<ul>
<li><strong><code>pip</code></strong> 是 Python 官方推荐的基础包安装器，轻量级但功能相对单一，通常需要与其他工具配合使用进行环境管理。</li>
<li><strong><code>conda</code></strong> 是一个功能强大的跨平台、跨语言的包和环境管理器，特别适合数据科学和需要管理复杂非 Python 依赖的场景。但其自身生态和 Python 标准生态有所区隔，且有时显得较为笨重。</li>
<li><strong><code>uv</code></strong> 定位为 <code>pip</code> 和 <code>virtualenv</code> 的高速、现代化替代品，并逐步整合项目管理功能。 它完全拥抱 Python&#x2F;PyPI 生态，以极致的性能和一体化的体验为主要优势，适合追求开发效率和简洁工作流的纯 Python 项目。</li>
</ul>
<h2 id="快速上手-uv"><a href="#快速上手-uv" class="headerlink" title="快速上手 uv"></a>快速上手 uv</h2><p>体验 <code>uv</code> 的强大非常简单。</p>
<h3 id="安装-uv"><a href="#安装-uv" class="headerlink" title="安装 uv"></a>安装 uv</h3><p>你可以通过多种方式安装 <code>uv</code>：</p>
<ul>
<li><p><strong>官方推荐脚本 (macOS 和 Linux):</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -LsSf https://astral.sh/uv/install.sh | sh</span><br></pre></td></tr></table></figure></li>
<li><p><strong>官方推荐脚本 (Windows PowerShell):</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">powershell -ExecutionPolicy ByPass -c <span class="string">&quot;irm https://astral.sh/uv/install.ps1 | iex&quot;</span></span><br></pre></td></tr></table></figure></li>
<li><p><strong>使用 pip:</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install uv</span><br></pre></td></tr></table></figure></li>
<li><p><strong>使用 pipx (推荐隔离安装):</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pipx install uv</span><br></pre></td></tr></table></figure></li>
<li><p><strong>使用 Homebrew (macOS):</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install uv</span><br></pre></td></tr></table></figure></li>
</ul>
<p>安装完成后，可以通过 <code>uv --version</code> 命令检查是否安装成功。</p>
<h3 id="基本使用"><a href="#基本使用" class="headerlink" title="基本使用"></a>基本使用</h3><p>以下是一些 <code>uv</code> 的常用命令：</p>
<ol>
<li><p><strong>创建虚拟环境</strong>:<br><code>uv</code> 会自动在当前项目的 <code>.venv</code> 目录创建虚拟环境。如果该目录不存在，多数 <code>uv</code> 命令（如 <code>uv pip install</code>）会自动创建它。你也可以显式创建：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uv venv</span><br></pre></td></tr></table></figure>

<p>如果需要指定特定的 Python 版本 (例如系统中已安装的 Python 3.11):</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">uv venv --python 3.11</span><br><span class="line"><span class="comment"># 或者指定解释器路径</span></span><br><span class="line"><span class="comment"># uv venv --python /path/to/python3.11</span></span><br></pre></td></tr></table></figure>

<p>激活虚拟环境的方式与标准 <code>venv</code> 一致：</p>
<ul>
<li>Linux&#x2F;macOS: <code>source .venv/bin/activate</code></li>
<li>Windows: <code>.venv\Scripts\activate</code><br>不过，很多时候你甚至不需要手动激活，<code>uv</code> 的命令（如 <code>uv run</code>）会自动在对应的虚拟环境中执行。</li>
</ul>
</li>
<li><p><strong>安装包</strong>:<br>和 <code>pip install</code> 非常相似：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uv pip install requests flask</span><br></pre></td></tr></table></figure>

<p>从 <code>requirements.txt</code> 文件安装：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uv pip install -r requirements.txt</span><br></pre></td></tr></table></figure></li>
<li><p><strong>管理项目依赖 (使用 <code>pyproject.toml</code> 和 <code>uv.lock</code>)</strong>:<br><code>uv</code> 鼓励使用 <code>pyproject.toml</code> 来管理项目依赖，并会自动生成&#x2F;更新 <code>uv.lock</code> 文件以锁定依赖版本。</p>
<ul>
<li><p><strong>初始化一个新项目</strong>:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">uv init my_project</span><br><span class="line"><span class="built_in">cd</span> my_project</span><br></pre></td></tr></table></figure>

<p>这会创建一个包含 <code>pyproject.toml</code> 等基本项目结构。</p>
</li>
<li><p><strong>添加依赖</strong>:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">uv add requests</span><br><span class="line"><span class="comment"># 添加开发依赖</span></span><br><span class="line">uv add --dev pytest</span><br></pre></td></tr></table></figure>

<p>这个命令会自动将依赖添加到 <code>pyproject.toml</code> 并更新 <code>uv.lock</code>。</p>
</li>
<li><p><strong>同步环境</strong>:<br>如果你获取了一个包含 <code>pyproject.toml</code> 和 <code>uv.lock</code> 的项目，可以使用以下命令安装所有依赖到虚拟环境，确保与锁文件一致：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uv <span class="built_in">sync</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p><strong>查看已安装的包</strong>:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uv pip list</span><br></pre></td></tr></table></figure></li>
<li><p><strong>生成 <code>requirements.txt</code> (冻结依赖)</strong>:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uv pip freeze &gt; requirements.txt</span><br></pre></td></tr></table></figure></li>
<li><p><strong>编译依赖 (生成锁文件或更新 <code>requirements.txt</code> from <code>pyproject.toml</code> or <code>requirements.in</code>)</strong>:<br>如果你有一个 <code>pyproject.toml</code> 或 <code>requirements.in</code> 文件，可以用 <code>compile</code> 命令生成精确的 <code>requirements.txt</code> (类似 <code>pip-tools</code> 的 <code>pip-compile</code>):</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 从 pyproject.toml 生成 requirements.txt</span></span><br><span class="line">uv pip compile pyproject.toml -o requirements.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 从 requirements.in 生成 requirements.txt</span></span><br><span class="line">uv pip compile requirements.in -o requirements.txt</span><br></pre></td></tr></table></figure></li>
<li><p><strong>运行脚本或命令</strong>:<br><code>uv run</code> 可以在项目的虚拟环境中执行命令，无需手动激活环境。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">uv run python main.py</span><br><span class="line">uv run pytest</span><br></pre></td></tr></table></figure></li>
<li><p><strong>卸载包</strong>:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uv pip uninstall requests</span><br></pre></td></tr></table></figure></li>
<li><p><strong>清理缓存</strong>:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uv pip cache purge</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="示例：从现有项目迁移"><a href="#示例：从现有项目迁移" class="headerlink" title="示例：从现有项目迁移"></a>示例：从现有项目迁移</h3><p>如果你有一个已使用 <code>requirements.txt</code> 的项目，迁移到 <code>uv</code> 非常简单：</p>
<ol>
<li>进入项目目录。</li>
<li>(可选) 手动创建虚拟环境：<code>uv venv</code>。如果跳过此步，下一步安装时也会自动创建。</li>
<li>使用 <code>uv</code> 安装依赖：<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uv pip install -r requirements.txt</span><br></pre></td></tr></table></figure></li>
</ol>
<p>之后，你可以考虑使用 <code>uv init</code> 来初始化 <code>pyproject.toml</code>，并使用 <code>uv add</code> 和 <code>uv sync</code> 来更现代化地管理你的依赖。</p>
<h2 id="uv-的前景与总结"><a href="#uv-的前景与总结" class="headerlink" title="uv 的前景与总结"></a>uv 的前景与总结</h2><p><code>uv</code> 作为一个新兴的 Python 包和项目管理工具，凭借其出色的性能和现代化的设计理念，迅速获得了社区的广泛关注。 它旨在解决传统工具链中的一些痛点，如速度慢、功能分散等问题。</p>
<p>虽然 <code>uv</code> 仍在快速发展中，但它已经展现出成为 Python 生态中一个重要工具的巨大潜力。 对于追求极致效率、希望简化开发流程的 Python 开发者来说，<code>uv</code> 无疑是一个值得尝试和关注的选择。 它与现有生态的良好兼容性也使得迁移成本相对较低。</p>
<p>当然，<code>conda</code> 在处理复杂跨语言依赖和特定科学计算环境方面仍具有其不可替代的优势。 选择哪个工具最终取决于你的具体项目需求和个人偏好。 但 <code>uv</code> 的出现，无疑为 Python 开发者提供了一个更快速、更统一的现代化选择。</p>
<p>备注：本篇博客由Gemini 2.5 Pro生成</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://88daxiong.github.io">daxiong</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://88daxiong.github.io/2025/05/15/uv/">https://88daxiong.github.io/2025/05/15/uv/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://88daxiong.github.io" target="_blank">daxiong's blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/uv/">uv</a></div><div class="post_share"><div class="social-share" data-image="/image/bald_eagle.jpeg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2025/05/16/NetTowers/" title="NetTowers"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">NetTowers</div></div></a></div><div class="next-post pull-right"><a href="/2025/05/12/FunctionCallingVsMCP/" title="FunctionCallingVsMCP"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">FunctionCallingVsMCP</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/image/bald_eagle.jpeg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">daxiong</div><div class="author-info__description">Stay Hungry, Stay Foolish</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">6</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">11</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">3</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/88daxiong"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">缘起性空</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#uv%EF%BC%9A%E4%B8%8B%E4%B8%80%E4%BB%A3-Python-%E5%8C%85%E5%92%8C%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86%E5%88%A9%E5%99%A8"><span class="toc-number">1.</span> <span class="toc-text">uv：下一代 Python 包和项目管理利器</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF-uv%EF%BC%9F"><span class="toc-number">1.1.</span> <span class="toc-text">什么是 uv？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#uv-%E7%9A%84%E6%A0%B8%E5%BF%83%E7%89%B9%E7%82%B9"><span class="toc-number">1.2.</span> <span class="toc-text">uv 的核心特点</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#uv%E3%80%81conda-%E4%B8%8E-pip-%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">1.3.</span> <span class="toc-text">uv、conda 与 pip 的区别</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B-uv"><span class="toc-number">1.4.</span> <span class="toc-text">快速上手 uv</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-uv"><span class="toc-number">1.4.1.</span> <span class="toc-text">安装 uv</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-number">1.4.2.</span> <span class="toc-text">基本使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B%EF%BC%9A%E4%BB%8E%E7%8E%B0%E6%9C%89%E9%A1%B9%E7%9B%AE%E8%BF%81%E7%A7%BB"><span class="toc-number">1.4.3.</span> <span class="toc-text">示例：从现有项目迁移</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#uv-%E7%9A%84%E5%89%8D%E6%99%AF%E4%B8%8E%E6%80%BB%E7%BB%93"><span class="toc-number">1.5.</span> <span class="toc-text">uv 的前景与总结</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/05/16/NetTowers/" title="NetTowers">NetTowers</a><time datetime="2025-05-16T06:40:34.000Z" title="发表于 2025-05-16 14:40:34">2025-05-16</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/05/15/uv/" title="uv">uv</a><time datetime="2025-05-15T07:20:12.000Z" title="发表于 2025-05-15 15:20:12">2025-05-15</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2025/05/12/FunctionCallingVsMCP/" title="FunctionCallingVsMCP">FunctionCallingVsMCP</a><time datetime="2025-05-12T02:38:41.000Z" title="发表于 2025-05-12 10:38:41">2025-05-12</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/09/23/%E5%A4%A7%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8BLLM%E7%9A%84%E8%AF%84%E6%B5%8B%E5%9F%BA%E5%87%86%E6%95%B0%E6%8D%AE%E9%9B%86/" title="大语言模型LLM的评测基准数据集">大语言模型LLM的评测基准数据集</a><time datetime="2024-09-23T02:30:15.000Z" title="发表于 2024-09-23 10:30:15">2024-09-23</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/09/22/hexo%E5%8D%9A%E5%AE%A2%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/" title="Hexo博客使用教程：从创建到部署的完整指南">Hexo博客使用教程：从创建到部署的完整指南</a><time datetime="2024-09-22T07:00:00.000Z" title="发表于 2024-09-22 15:00:00">2024-09-22</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2024 - 2025 By daxiong</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/canvas-fluttering-ribbon.min.js"></script><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/click-heart.min.js" async="async" mobile="false"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>